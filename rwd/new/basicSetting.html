<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test</title>
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/table.css">
    <!-- Font Style CSS -->
    <link rel="stylesheet" href="css/poppins-font.css">
    <!-- jQuery CDN -->
    <script src="js/ajax-jquery.min.js"></script>
    <!-- Bootstrap Js CDN -->
    <script src="js/bootstrap.min.js"></script>


    <script>
        //        Fake Data
        const result = [{
            "interface": "LAN1",
            "ipmod": 1,
            "ip": "10.0.178.203",
            "mask": "255.255.255.0",
            "gw": "10.0.0.254",
            "gwstatus": "true",
            "mac": "00:60:e9:1c:94:1a",
            "BondEna": "notSupport",
            "BondMas": "true",
            "BondGroup": "bond255",
            ipv6: ["fe80::260:e9ff:fe1c:941a", "2001:2de:5678:9abc:260:e9ff:fe1c:941a"],
            "speed": "100Mbps"
        }, {
            "interface": "LAN2",
            "ipmod": 1,
            "ip": "192.168.1.121",
            "mask": "255.255.255.0",
            "gw": "192.168.1.254",
            "gwstatus": "false",
            "mac": "00:60:e9:1c:94:1b",
            "BondEna": "notSupport",
            "BondMas": "true",
            "BondGroup": "bond255",
            ipv6: [],
            "speed": "100Mbps"
        }];

        //Loading Data
        $(window).ready(function() {
            $('#ip').attr('name', 'ip1')
                .attr('value', result[0]['ip']);
            $('#mask').attr('name', 'mask1')
                .attr('value', result[0]['mask']);
            $('#gateway').attr('name', 'gw1')
                .attr('value', result[0]['gw']);
        });

        //Setting Event
        $(document).ready(function() {
            $('.dropdown').on('click', function() {
                $('.dropdown-toggle').dropdown();
            });

            $('.lanSetting').on('click', function() {
                var span = $('.caret');
                var text = $(this).text();
                const index = text.replace(/[^\d.]/g, '');
                $('.dropdown-toggle').html(text)
                    .append(span);

                $('#dhcp').attr('name', 'dhcp' + index);
                $('#ip').attr('name', 'ip' + index);
                $('#mask').attr('name', 'mask' + index);
                $('#gateway').attr('name', 'gw' + index);
            });

            $('.switch-container').on('click', function() {
                $(this).toggleClass('switch-enable');
                var input = $(this).children('input');
                if (input.attr('value') == 'yes') {
                    $('#lanForm :input:text').prop('disabled', false);
                    input.val('no');
                } else {
                    $('#lanForm :input:text').prop('disabled', true);
                    input.val('yes');
                }
            });

            $('.userList').on('click', function() {
                var target = $(this).attr('data-target');
                $('.userList').toggleClass('active', false);
                $('.table-wrapper').toggleClass("noShow", true);
                $(this).toggleClass('active');
                $(target).toggleClass('noShow');
            });
        });
    </script>
</head>

<body>

    <div class="container">
        <ul class="nav nav-tabs">
            <li role="presentation" class="dropdown active userList"  data-target="#lanTable">
                <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);" role="button" aria-haspopup="true" aria-expanded="false">Lan Setting<span class="caret"></span>
    </a>
                <ul class="dropdown-menu">
                    <li><a id="lan1" class="lanSetting" href="javascript:void(0);">LAN1</a></li>
                    <li><a id="lan1" class="lanSetting" href="javascript:void(0);">LAN2</a></li>
                    <li><a id="lan1" class="lanSetting" href="javascript:void(0);">LAN3</a></li>
                    <!--
                    <script>
                        for (var i = 0; i < data.length; i++) {
                            var html = ['<li><a id="',
                                result[i]['interface'].toLowerCase(),
                                '" class="lanSetting" href="javascript:void(0);">',
                                result[i]['interface'],
                                '</a></li>'
                            ].join("");
                            $('.dropdown-menu').append(html);
                        }
                    </script>
-->
                </ul>
            </li>
            <li class="userList" role="presentation" data-target="#networkTable"><a href="javascript:void(0);">Network Settings</a></li>
        </ul>
        <form action="" id='lanForm'>
            <div id="lanTable" class="table-wrapper">
                <div class="panel panel-default">
                    <div id='lanPanel' class="panel-heading">Lan 1</div>
                    <table class="table table-striped">
                        <tbody>
                            <tr>
                                <td>DHCP</td>
                                <td>
                                    <div class="switch-wrapper">
                                        <div class="switch-container">
                                            <span class="switch-label switch-on">Yes</span>
                                            <span class="switch-label"></span>
                                            <span class="switch-label switch-off">no</span>
                                            <input id="dhcp" type="hidden" name="dhcp1" value="no">
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>IP Address</td>
                                <td><input id="ip" type="text" name="ip1" value="10.0.50.100"></td>
                            </tr>
                            <tr>
                                <td>Subnet Mask</td>
                                <td><input id="mask" type="text" name="mask1" value="255.255.255.0"></td>
                            </tr>
                            <tr>
                                <td>Gateway</td>
                                <td><input id="gateway" type="text" name="gateway1" value="10.0.50.254"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="center" role="group" aria-label="...">
                    <button onclick="console.log($('form').serialize());" class="btn btn-default submitBtn" type="submit">Submit</button>
                    <button class="btn btn-default" type="reset">Reset</button>
                </div>
            </div>
        </form>

        <form action="" id='networkForm'>
            <div id="networkTable" class="table-wrapper noShow">
                <div class="panel panel-default">
                    <div id='lanPanel' class="panel-heading">Network Setting</div>
                    <table class="table table-striped">
                        <tbody>
                            <tr>
                                <td>Default Gateway</td>
                                <td>
                                    <select class="" data-size='5'>
                                        <option>LAN1</option>
                                        <option selected>LAN2</option>
                                        <option>LAN3</option>
                                        <option>LAN3</option>
                                        <option>LAN3</option>
                                        <option>LAN3</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Preferred DNS</td>
                                <td><input id="dns0" type="text" name="dns0" value="8.8.8.8"></td>
                            </tr>
                            <tr>
                                <td>Alternate DNS</td>
                                <td><input id="dns1" type="text" name="dns1" value="4.4.4.4"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="center" role="group" aria-label="...">
                    <button onclick="console.log($('#networkForm').serialize());" class="btn btn-default submitBtn" type="submit">Submit</button>
                    <button class="btn btn-default" type="reset">Reset</button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>
